(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(13),o=a(267),i=a(12),l=a(266),u=a(51);var m={a:3.4,v0:18,v0Max:21,delta:.7,tp:.75,total:120,car:{height:1.5,width:3},block:{x:96,width:1,height:1}},s=a(36),p=a(8);function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){f(t,e,a[e])})}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var y,g={play:!1,x:20,v:18,v0:18,time:0,connected:!1,g1:.3,g2:-.3,l:.3*m.total},h=function(t,e){switch(e.type){case"TICK":var a=w(t),n=e.payload;return d({},t,{v:a?t.v-n*m.a:t.v0,x:t.x+n*t.v+(a?-n*n*m.a*.5:0),time:t.time+n});case"SET_PLAY":return d({},t,{play:e.payload});case"SET_V0":return d({},t,{v0:e.payload});case"SET_G1":return d({},t,{g1:e.payload});case"SET_G2":return d({},t,{g2:e.payload});case"SET_L":return d({},t,{l:e.payload});case"SET_X":return d({},t,{x:e.payload});case"RESTART":case"RESET":return d({},t,{time:0,x:0,v:t.v0});default:return t}},b=Object(p.a)(function(t){return(t.g2-t.g1)/2/t.l}),v=Object(p.a)(function(t){return-m.total*t.g2/(t.g1-t.g2)-t.l/2}),x=Object(p.a)(function(t,e){var a=v(t);return(e=void 0===e?t.x:e)<a?t.g1:e>a+t.l?t.g2:2*(e-a)*b(t)+t.g1}),E=Object(p.a)(function(t,e){return 180*Math.atan(x(t,e))/Math.PI}),O=Object(p.a)(function(t){return Math.atan(x(t))}),j=Object(p.a)(function(t,e){var a=v(t),n=void 0===e?t.x:e;return n<a?n*t.g1:n>a+t.l?t.g2*(n-m.total):(n-a)*(n-a)*b(t)+t.g1*n}),w=(Object(p.a)(function(t){return v(t)-t.g1/b(t)/2}),Object(p.a)(function(t){var e=m.block.x,a=j(t,e)+m.block.height,n=S(t),r=n.mt,c=n.x,o=n.y,i=n.xt;return(e-c)*r+o<a||e<i})),S=(Object(p.a)(function(t){var e=m.block.x,a=j(t,e)+m.block.height,n=b(t),r=t.g1,c=v(t),o=e+Math.sqrt((n*(e-c)*(e-c)+r*e-a)/n);j(t,o)}),Object(p.a)(function(t){var e=O(t),a=t.x+Math.cos(e)*m.car.width/2-m.car.height*Math.sin(e),n=j(t)+Math.sin(e)*m.car.width/2+m.car.height*Math.cos(e),r=b(t),c=t.g1,o=v(t),i=a+Math.sqrt((r*(a-o)*(a-o)+c*a-n)/r),l=j(t,i);return{x:a,y:n,xt:i,yt:l,mt:(l-n)/(i-a)}})),k=r.a.createContext({state:g,dispatch:null}),T=a(3),C=a(263),_=Object(C.a)({road:{fill:i.a.grey[200]},svg:{display:"inline-block",margin:"30px 0","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},tangent:{stroke:i.a.pink.A700,strokeWidth:"2px",fill:"none"},connected:{stroke:i.a.pink.A200,strokeDasharray:"2, 2"},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"},car:{fill:i.a.lightBlue.A400},block:{fill:i.a.green.A700}}),A={},N=Object(s.a)().range([0,500]).domain([0,m.total]),M=Object(s.a)().range([500/3,0]).domain([0,m.total*(500/3)/500]),P=N(m.car.width),R=500/3-M(m.car.height),L=N(m.block.width),I=500/3-M(m.block.height),z=(y=Array.apply(null,{length:50}).map(function(t,e,a){return e/a.length*m.total}),Object(p.a)(function(t){return"M"+y.map(function(e){return[N(e),M(j(t,e))]}).join("L")+"Z"})),D=function(t){var e=t.x,a=t.y,r=t.r,c=t.className;return Object(n.createElement)("rect",{width:P,height:R,className:c,y:-R,x:.5*-P,transform:"translate(".concat(e,",").concat(a,") rotate(").concat(r,") ")})},F=function(t){var e=t.x,a=t.y,r=t.r,c=t.className;return Object(n.createElement)("rect",{width:L,height:I,className:c,y:-I,x:.5*-L,transform:"translate(".concat(e,",").concat(a,") rotate(").concat(r,") ")})},G=Object(p.a)(function(t){var e=S(t),a=e.x,n=e.y,r=e.xt,c=e.yt,o=e.mt;return"M".concat(N(a),",").concat(M(n),"L").concat(N(3*r),",").concat(M(c+2*o*r))}),B=function(){var t=Object(n.useContext)(k).state,e=_(A);return r.a.createElement("svg",{width:500,height:500/3,className:e.svg},r.a.createElement("path",{className:e.road,d:z(t)}),r.a.createElement(D,{x:N(t.x),y:M(j(t)),className:e.car,r:-E(t)}),r.a.createElement(F,{x:N(m.block.x),y:M(j(t,m.block.x)),className:e.block,r:-E(t,m.block.x)}),r.a.createElement("path",{d:G(t),className:Object(T.a)(e.tangent,w(t)&&e.connected)}))},W=a(143),Y=a(11),q=a(270),J=a(265),K=a(18),V=a.n(K),X=(a(66),Object(Y.a)(function(t){return{root:{color:t.palette.primary.main,marginBottom:"15px"}}})(q.a)),U=(r.a.createElement(J.a,{variant:"body1"},r.a.createElement(V.a,{math:"v_0"})," (initial speed)"),r.a.createElement(J.a,{variant:"body1"},r.a.createElement(V.a,{math:"g_1"})," (initial grade)")),Z=r.a.createElement(J.a,{variant:"body1"},r.a.createElement(V.a,{math:"g_2"})," (final grade)"),H=r.a.createElement(J.a,{variant:"body1"},r.a.createElement(V.a,{math:"l"})," (curve length)"),Q=r.a.createElement(J.a,{variant:"body1"},r.a.createElement(V.a,{math:"x"})," (car position)"),$=function(){var t=Object(n.useContext)(k),e=t.state,a=t.dispatch,c=e.l,o=e.v0,i=e.g1,l=e.g2,u=e.x;return r.a.createElement(r.a.Fragment,null,Q,r.a.createElement(X,{onChange:function(t,e){return a({type:"SET_X",payload:e})},value:u,step:1,min:0,max:m.total}),r.a.createElement(J.a,{variant:"body1"},r.a.createElement(V.a,{math:"v_0"})," (initial speed)"),r.a.createElement(X,{onChange:function(t,e){return a({type:"SET_V0",payload:e})},value:o,step:.02,min:0,max:m.v0Max}),U,r.a.createElement(X,{onChange:function(t,e){return a({type:"SET_G1",payload:e})},value:i,step:.01,min:0,max:.4}),Z,r.a.createElement(X,{onChange:function(t,e){return a({type:"SET_G2",payload:e})},value:l,step:.01,min:-.3,max:.1}),H,r.a.createElement(X,{onChange:function(t,e){return a({type:"SET_L",payload:e})},value:c,step:1,min:0,max:m.total}))};function tt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=[],n=!0,r=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!e||a.length!==e);n=!0);}catch(t){r=!0,c=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var et=Object(W.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif"}},main:{maxWidth:"900px",color:i.a.grey[800],margin:"0 auto",boxSizing:"border-box",display:"flex",flexDirection:"column"},red:{fill:i.a.red.A400},paper:{maxWidth:"500px",width:300,margin:"auto",display:"flex",padding:"24px 36px",flexDirection:"column"},button:{alignSelf:"center"},visContainer:{margin:"0 auto"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}}),at={},nt=function(){var t=Object(n.useContext)(k),e=t.state,a=t.dispatch,c=e.x,i=(e.l,e.g1,e.g2,e.play),s=et(at);return function(t,e){var a=Object(n.useRef)(0);a.current=t,Object(n.useLayoutEffect)(function(){if(e){var t=0,n=Object(u.a)(function(e){var n=(e-t)/1e3;t=e,a.current&&a.current(n)});return function(){return n.stop()}}},[e])}(function(t){t/=m.delta,c<m.total&&e.v>0?a({type:"TICK",payload:t}):a({type:"RESTART"})},i),r.a.createElement("div",{className:s.main},r.a.createElement("div",{className:s.visContainer},r.a.createElement(B,null)),r.a.createElement(l.a,{className:s.paper,elevation:2},r.a.createElement($,null),r.a.createElement(o.a,{className:s.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!i})}},i?"PAUSE":"PLAY"),r.a.createElement(o.a,{className:s.button,style:{marginTop:"10px"},variant:"contained",color:"secondary",onClick:function(){a({type:"RESET"})}},"Reset")))},rt=a(269),ct=a(50),ot=a(48),it=a.n(ot),lt=a(49),ut=a.n(lt),mt=document.getElementById("root");if(!mt)throw Error("no root container");var st=Object(ct.a)({palette:{primary:{main:it.a[500]},secondary:{main:ut.a[500]}}});Object(c.render)(r.a.createElement(rt.a,{theme:st},r.a.createElement(function(){var t=tt(Object(n.useReducer)(h,g),2),e=t[0],a=t[1];return r.a.createElement(k.Provider,{value:{state:e,dispatch:a}},r.a.createElement(nt,null))},null)),mt)}},[[142,1,2]]]);