(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(10),i=a(264),o=a(260),l=a(48),s=a(22),u=a(36),m=1.5873015873015872,f=.492*m;function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){y(e,t,a[t])})}return e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=function(e){return Math.max(Math.min(8e4/3600,8.888888888888888*(e/4-1)),0)},b={play:!1,cars:[],time:0,numCars:0,history:[]},g=Object(u.a)(function(e,t){return e%t<t/2}),E=function(e,t){switch(t.type){case"TICK":var a=t.payload,r=g(e.time,40),n=e.cars.map(function(e,t,n){var c=0===t?1/0:n[t-1];return!r&&e<=135&&(c=Math.min(c,139)),Math.min(c,e+p(c-e)*a)}).filter(function(e){return e<180}),c=e.numCars-n.length,i=e.time,o=e.history.map(function(e,t){return t<c?e:[].concat(d(e),[[i,n[t-c]]])});return h({},e,{history:o,cars:n,time:e.time+a});case"ADD":var l=Math.min(-8e4/3600/f+e.cars[e.cars.length-1]-1||-20,-20),s=[e.time,l];return h({},e,{numCars:e.numCars+1,history:[].concat(d(e.history),[[s]]),cars:[].concat(d(e.cars),[l])});case"SET_PLAY":return h({},e,{play:t.payload});case"RESET":return h({},e,{time:0,history:[],numCars:0,cars:[]});default:return e}},v=n.a.createContext({state:b,dispatch:null}),x=a(9),j=a(141),w=Object(j.a)({road:{fill:x.a.grey[700]},car:{fill:x.a.yellow.A700,rx:1,ry:1},svg:function(e){return{width:e.width,height:e.height,display:"block",margin:"30px 0","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}}},light:{strokeWidth:"5px",fill:"none",stroke:function(e){return e.isGreen?x.a.green.A400:x.a.red.A200}},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"}}),O=Object(s.a)().range([0,800]).domain([0,180]),k=Object(s.a)().range([100,0]).domain([0,22.5]),N=O(3),A=100-k(2),C=100-k(10),S=O(135),M=function(e){var t=e.x,a=e.className;return Object(r.createElement)("rect",{width:N,height:A,className:a,y:50-A/2,x:t-N})},P=function(e){var t=e.className;return Object(r.createElement)("g",{},Object(r.createElement)("rect",{height:C,width:800,className:t,x:0,y:50-C/2}),Object(r.createElement)("rect",{height:100,width:C,className:t,x:S,y:0}))},T="M".concat(S,",").concat((100-C)/2,"L").concat(S,",").concat((100+C)/2),L=function(e){var t=e.className;return Object(r.createElement)("path",{className:t,d:T})},I=function(){var e=Object(r.useContext)(v).state,t=w({width:800,height:100,isGreen:g(e.time,40)});return n.a.createElement("svg",{className:t.svg},n.a.createElement(P,{className:t.road}),n.a.createElement(L,{className:t.light}),e.cars.map(function(e,a){return n.a.createElement(M,{key:a,x:O(e),className:t.car})}))},z=a(31),D=a.n(z),R=(a(63),a(258)),W=Object(j.a)(Object(R.a)({svg:{"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},math:{fontSize:"12px"},trajectory:{fill:"none",stroke:x.a.lightBlue.A700,strokeWidth:"2px"},hidden:{fill:"white",opacity:0},marker:{fill:x.a.lightBlue.A700}})),B=a(37),F=a.n(B);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var G=10,J=40,K={width:700+J+44,height:400+G+40},_=Object(s.a)().domain([0,180]).range([400,0]),H=Object(s.a)().domain([0,100]).range([0,700]),U="translate(".concat(J,",").concat(G,")"),X=(Array.apply(null,{length:50}).map(function(e,t){return t}),n.a.createElement("mask",{id:"myMask"},n.a.createElement("rect",{width:700,height:400,fill:"white"}))),q=n.a.memo(function(e){var t=e.mathClass;return n.a.createElement("g",{transform:"translate(0,".concat(_(135),")")},n.a.createElement("path",{d:"M0,0L".concat(700,",0"),fill:"none",stroke:"black"}),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(703,",-10)")},n.a.createElement("span",{className:t},n.a.createElement(D.a,{math:"t \\; \\text{(sec)}"}))))}),Q=n.a.memo(function(e){var t=e.mathClass;return n.a.createElement("g",null,n.a.createElement("path",{d:"M0,0L0,".concat(400),fill:"none",stroke:"black"}),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(5,-10)"},n.a.createElement("span",{className:t},n.a.createElement(D.a,{math:"x \\; \\text{(m)}"}))))}),V=n.a.memo(function(e){var t=e.trajectory,a=e.className;return Object(r.createElement)("path",{className:a,markerEnd:"url(#arrow)",d:F()(t.map(function(e){var t=Y(e,2),a=t[0],r=t[1];return{x:H(a),y:_(r)}}),.5).reduce(function(e,t){return e+t.x+","+t.y+" "},"M")})}),Z=n.a.memo(function(e){var t=e.className;return n.a.createElement("defs",null,n.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"5",markerHeight:"5",orient:"auto-start-reverse",className:t},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})))}),$={},ee=function(){var e=W($),t=Object(r.useContext)(v).state;return n.a.createElement("svg",{className:e.svg,style:K},n.a.createElement(Z,{className:e.marker}),n.a.createElement("g",{transform:U},n.a.createElement(q,{mathClass:e.math}),n.a.createElement(Q,{mathClass:e.math}),X,n.a.createElement("g",{style:{mask:"url(#myMask)"}},t.history.map(function(t,a){return Object(r.createElement)(V,{className:e.trajectory,trajectory:t,key:a})}))))},te=a(259),ae=Object(te.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif"}},main:{maxWidth:"900px",color:x.a.grey[800],margin:"0 auto",boxSizing:"border-box",display:"flex",flexDirection:"column"},red:{fill:x.a.red.A400},paper:{maxWidth:"500px",width:300,margin:"auto",display:"flex",padding:"24px 36px",flexDirection:"column"},button:{alignSelf:"center"},visContainer:{margin:"0 auto"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}});function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ne={},ce=function(){var e=Object(r.useContext)(v),t=e.state,a=e.dispatch,c=t.play,s=ae(ne);return function(e,t){var a=Object(r.useRef)(0);a.current=e,Object(r.useLayoutEffect)(function(){if(t){var e=0,r=Object(l.a)(function(t){var r=(t-e)/1e3;e=t,a.current&&a.current(r)});return function(){return r.stop()}}},[t])}(function(e){e/=.35,a({type:"TICK",payload:Math.min(e,300)})},c),t.time>100&&a({type:"RESET"}),function(e,t,a){var n=Object(r.useRef)(0);n.current=e,Object(r.useLayoutEffect)(function(){if(a){var e=setInterval(function(){n.current&&n.current()},1e3*t);return function(){return clearInterval(e)}}},[t,a])}(function(){return a({type:"ADD"})},1/f*.35,c),n.a.createElement("div",{className:s.main},n.a.createElement("div",{className:s.visContainer},n.a.createElement(I,null)),n.a.createElement(o.a,{className:s.paper,elevation:2},n.a.createElement(i.a,{className:s.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!c})}},c?"PAUSE":"PLAY"),n.a.createElement(i.a,{className:s.button,style:{marginTop:"10px"},variant:"contained",color:"secondary",onClick:function(){a({type:"RESET"})}},"Reset")),n.a.createElement(ee,null))},ie=a(262),oe=a(47),le=a(45),se=a.n(le),ue=a(46),me=a.n(ue),fe=document.getElementById("root");if(!fe)throw Error("no root container");var he=Object(oe.a)({palette:{primary:{main:se.a[500]},secondary:{main:me.a[500]}}});Object(c.render)(n.a.createElement(ie.a,{theme:he},n.a.createElement(function(){var e=re(Object(r.useReducer)(E,b),2),t=e[0],a=e[1];return n.a.createElement(v.Provider,{value:{state:t,dispatch:a}},n.a.createElement(ce,null))},null)),fe)}},[[139,1,2]]]);