(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(11),o=a(264),i=a(260),l=a(49),u=.7809523809523808,m=a(27);function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){f(t,e,a[e])})}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=function(t){return Math.max(Math.min(8e4/3600,8.888888888888888*(t/4-1)),0)},p={play:!1,cars:[],time:0,numCars:0,history:[]},y=Object(m.a)(function(t,e){return t%e<e/2}),g=function(t,e){switch(e.type){case"TICK":var a=e.payload,n=y(t.time,40),r=t.cars.map(function(t,e,r){var c=0===e?1/0:r[e-1];return!n&&t<=128&&(c=Math.min(c,132)),Math.min(c,t+d(c-t)*a)}).filter(function(t){return t<160}),c=t.numCars-r.length,o=t.time,i=t.history.map(function(t,e){return e<c?t:[].concat(h(t),[[o,r[e-c]]])});return s({},t,{history:i,cars:r,time:t.time+a});case"ADD":var l=Math.min(-8e4/3600/u+t.cars[t.cars.length-1]-1||-20,-20),m=[t.time,l];return s({},t,{numCars:t.numCars+1,history:[].concat(h(t.history),[[m]]),cars:[].concat(h(t.cars),[l])});case"SET_PLAY":return s({},t,{play:e.payload});case"RESET":return s({},t,{time:0,history:[],numCars:0,cars:[]});default:return t}},E=r.a.createContext({state:p,dispatch:null}),b=a(10),v=a(22),w=a.n(v),j=(a(36),a(141)),x=a(258),O=a(6),k=Object(j.a)(Object(x.a)({svg:{"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},math:{fontSize:"12px"},trajectory:{fill:"none",stroke:O.a.lightBlue.A400,strokeWidth:"2px"},hidden:{fill:"white",opacity:0},marker:{fill:O.a.lightBlue.A700}})),A=a(38),M=a.n(A),C=Object(j.a)({road:{stroke:O.a.grey[300]},car:{fill:O.a.purple.A400,rx:1,ry:1},svg:function(t){return{width:t.width,height:t.height,display:"block","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}}},light:{strokeWidth:"5px",fill:"none",stroke:function(t){return t.isGreen?O.a.green.A700:O.a.red.A400}},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"}});function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=[],n=!0,r=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!e||a.length!==e);n=!0);}catch(t){r=!0,c=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var N=function(t){var e=t.width,a=t.height,c=Object(n.useContext)(E).state,o=C({width:e,height:a,isGreen:y(c.time,40)}),i=Object(n.useMemo)(function(){return Object(b.a)().range([0,e]).domain([0,160])},[e]),l=Object(n.useMemo)(function(){return Object(b.a)().range([a,0]).domain([0,20])},[a]),u=S(Object(n.useMemo)(function(){return[i(128),a-l(10),i(3),a-l(2)]},[i,l]),4),m=u[0],s=u[1],f=u[2],h=u[3],d=S(Object(n.useMemo)(function(){return["M0,0L".concat(e,",0 M").concat(m+s/2,",").concat(-a/2,"L").concat(m+s/2,",").concat(a/2),"M".concat(m+2,",").concat(-s/2,"L").concat(m+2,",").concat(s/2)]},[e,a]),2),p=d[0],g=d[1];return r.a.createElement("g",{transform:"translate(0,".concat(a/2-s/2,")")},r.a.createElement("path",{className:o.road,d:p,strokeWidth:s}),r.a.createElement("path",{className:o.light,d:g}),c.cars.map(function(t,e){return r.a.createElement("rect",{key:e,className:o.car,transform:"translate(".concat(i(t)-f,",").concat(-h/2,")"),width:f,height:h})}))};function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=[],n=!0,r=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!e||a.length!==e);n=!0);}catch(t){r=!0,c=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var P=20,T=20,I={width:700+T+50,height:400+P+5},z=Object(b.a)().domain([0,160]).range([400,0]),D=Object(b.a)().domain([0,100]).range([0,700]),R="translate(".concat(T,",").concat(P,")"),W=(Array.apply(null,{length:50}).map(function(t,e){return e}),r.a.createElement("mask",{id:"myMask"},r.a.createElement("rect",{width:700,height:400,fill:"white"}))),F=r.a.memo(function(t){var e=t.mathClass;return r.a.createElement("g",{transform:"translate(0,".concat(z(128),")")},r.a.createElement("path",{d:"M0,0L".concat(700,",0"),fill:"none",stroke:"black",markerEnd:"url(#arrow)"}),r.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(710,",-10)")},r.a.createElement("span",{className:e},r.a.createElement(w.a,{math:"t \\; \\text{(sec)}"}))))}),B=r.a.memo(function(t){var e=t.mathClass;return r.a.createElement("g",null,r.a.createElement("path",{d:"M0,0L0,".concat(400),fill:"none",stroke:"black",markerEnd:"url(#arrow)",markerStart:"url(#arrow)"}),r.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(-10,-25)"},r.a.createElement("span",{className:e},r.a.createElement(w.a,{math:"x \\; \\text{(m)}"}))))}),Y=r.a.memo(function(t){var e=t.trajectory,a=t.className;return Object(n.createElement)("path",{className:a,d:M()(e.map(function(t){var e=L(t,2),a=e[0],n=e[1];return{x:D(a),y:z(n)}}),.5).reduce(function(t,e){return t+e.x+","+e.y+" "},"M")})}),G=r.a.memo(function(){return r.a.createElement("defs",null,r.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"2",markerWidth:"8",markerHeight:"8",orient:"auto-start-reverse",fill:"black"},r.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"})))}),J={},K={mask:"url(#myMask)"},_=function(){var t=k(J),e=Object(n.useContext)(E).state;return r.a.createElement("svg",{className:t.svg,style:I},r.a.createElement(G,null),r.a.createElement("g",{transform:R},W,r.a.createElement("g",{transform:"translate(".concat(D(e.time),",").concat(400,") rotate(-90)")},r.a.createElement(N,{height:30,width:400})),r.a.createElement("g",{style:K},e.history.map(function(e,a){return Object(n.createElement)(Y,{className:t.trajectory,trajectory:e,key:a})})),r.a.createElement(F,{mathClass:t.math}),r.a.createElement(B,{mathClass:t.math})))},q=Object(j.a)({svg:{"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},math:{fontSize:"12px"},path:{fill:"none",strokeWidth:2,stroke:O.a.blue.A400},hidden:{fill:"white",opacity:0}}),H=10,U=40,X=40,Q=10,V=Object(b.a)().domain([0,.25]).range([0,200]),Z=Object(b.a)().domain([0,1.9047619047619047]).range([400/3,0]),$=(Object(m.a)(function(t,e){return"translate(".concat(t,",").concat(e,")")}),Array.apply(null,{length:50}).map(function(t,e){return e})),tt=r.a.createElement("mask",{id:"myMask"},r.a.createElement("rect",{width:200,height:400/3,fill:"white"})),et=r.a.memo(function(t){var e=t.mathClass;return r.a.createElement("g",{transform:"translate(0,".concat(400/3,")")},r.a.createElement("path",{d:"M0,0L".concat(200,",0"),fill:"none",stroke:"black"}),r.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(203,",-10)")},r.a.createElement("span",{className:e},r.a.createElement(w.a,{math:"k \\; \\text{(veh/km)}"}))))}),at=r.a.memo(function(t){var e=t.mathClass;return r.a.createElement("g",null,r.a.createElement("path",{d:"M0,0L0,".concat(400/3),fill:"none",stroke:"black"}),r.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(5,-10)"},r.a.createElement("span",{className:e},r.a.createElement(w.a,{math:"q \\; \\text{(veh/min)}"}))))}),nt=function(t){return Math.min(t*(8e4/3600),8.888888888888888*(.25-t))},rt=r.a.memo(function(t){var e=t.className;return Object(n.createElement)("path",{className:e,d:"M"+$.map(function(t){return t/($.length-1)*.25}).map(function(t){return[V(t),Z(nt(t))]}).join("L")})}),ct={},ot={height:400/3+H+U,width:200+X+Q},it="translate(".concat(X,",").concat(H,")"),lt=function(){var t=q(ct);return r.a.createElement("svg",{className:t.svg,style:ot},r.a.createElement("g",{transform:it},tt,r.a.createElement("rect",{className:t.hidden,width:200,height:400/3}),r.a.createElement(et,{mathClass:t.math}),r.a.createElement(at,{mathClass:t.math}),r.a.createElement(rt,{className:t.path})))},ut=a(259),mt=Object(ut.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif"}},main:{maxWidth:"900px",color:O.a.grey[800],margin:"0 auto",boxSizing:"border-box",display:"flex",flexDirection:"column"},red:{fill:O.a.red.A400},paper:{maxWidth:"500px",margin:"auto",display:"flex",padding:"20px",flexDirection:"row",alignItems:"center"},button:{margin:"5px"},visContainer:{margin:"0 auto"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}});function st(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=[],n=!0,r=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!e||a.length!==e);n=!0);}catch(t){r=!0,c=t}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ft={},ht=function(){var t=Object(n.useContext)(E),e=t.state,a=t.dispatch,c=e.play,m=mt(ft);return function(t,e){var a=Object(n.useRef)(0);a.current=t,Object(n.useLayoutEffect)(function(){if(e){var t=0,n=Object(l.a)(function(e){var n=(e-t)/1e3;t=e,a.current&&a.current(n)});return function(){return n.stop()}}},[e])}(function(t){t/=.4,a({type:"TICK",payload:Math.min(t,.05)})},c),e.time>100&&a({type:"RESET"}),function(t,e,a){var r=Object(n.useRef)(0);r.current=t,Object(n.useLayoutEffect)(function(){if(a){var t=setInterval(function(){r.current&&r.current()},1e3*e);return function(){return clearInterval(t)}}},[e,a])}(function(){return a({type:"ADD"})},1/u*.4,c),r.a.createElement("div",{className:m.main},r.a.createElement(i.a,{className:m.paper,elevation:2},r.a.createElement(o.a,{className:m.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!c})}},c?"PAUSE":"PLAY"),r.a.createElement(o.a,{className:m.button,variant:"contained",color:"secondary",onClick:function(){a({type:"RESET"})}},"Reset")),r.a.createElement(_,null),r.a.createElement(lt,null))},dt=a(262),pt=a(48),yt=a(46),gt=a.n(yt),Et=a(47),bt=a.n(Et),vt=document.getElementById("root");if(!vt)throw Error("no root container");var wt=Object(pt.a)({palette:{primary:{main:gt.a[500]},secondary:{main:bt.a[500]}}});Object(c.render)(r.a.createElement(dt.a,{theme:wt},r.a.createElement(function(){var t=st(Object(n.useReducer)(g,p),2),e=t[0],a=t[1];return r.a.createElement(E.Provider,{value:{state:e,dispatch:a}},r.a.createElement(ht,null))},null)),vt)}},[[139,1,2]]]);