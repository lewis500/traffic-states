(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(10),i=a(262),o=a(258),l=a(47),s=a(22),u=a(26),m=1.5873015873015872,f=.492*m;function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){y(e,t,a[t])})}return e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=function(e){return Math.max(Math.min(8e4/3600,8.888888888888888*(e/4-1)),0)},b={play:!1,cars:[],time:0,numCars:0,history:[]},g=Object(u.a)(function(e,t){return e%t<t/2}),E=function(e,t){switch(t.type){case"TICK":var a=t.payload,r=g(e.time,40),n=e.cars.map(function(e,t,n){var c=0===t?1/0:n[t-1];return!r&&e<=135&&(c=Math.min(c,139)),Math.min(c,e+d(c-e)*a)}).filter(function(e){return e<180}),c=e.numCars-n.length,i=e.time,o=e.history.map(function(e,t){return t<c?e:[].concat(p(e),[[i,n[t-c]]])});return h({},e,{history:o,cars:n,time:e.time+a});case"ADD":var l=Math.min(-8e4/3600/f+e.cars[e.cars.length-1]-1||-20,-20),s=[e.time,l];return h({},e,{numCars:e.numCars+1,history:[].concat(p(e.history),[[s]]),cars:[].concat(p(e.cars),[l])});case"SET_PLAY":return h({},e,{play:t.payload});case"RESET":return h({},e,{time:0,history:[],numCars:0,cars:[]});default:return e}},v=n.a.createContext({state:b,dispatch:null}),x=a(9),j=a(140),w=Object(j.a)({road:{fill:x.a.grey[700]},car:{fill:x.a.yellow.A700,rx:1,ry:1},svg:function(e){return{width:e.width,height:e.height,display:"block",margin:"30px 0","& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}}},light:{strokeWidth:"5px",fill:"none",stroke:function(e){return e.isGreen?x.a.green.A400:x.a.red.A200}},text:{textAlign:"center",fontSize:"12px",fontFamily:"Puritan, sans-serif"}}),O=Object(s.a)().range([0,800]).domain([0,180]),k=Object(s.a)().range([100,0]).domain([0,22.5]),A=O(3),N=100-k(2),C=100-k(10),S=O(135),M=function(e){var t=e.x,a=e.className;return Object(r.createElement)("rect",{width:A,height:N,className:a,y:50-N/2,x:t-A})},P=function(e){var t=e.className;return Object(r.createElement)("g",{},Object(r.createElement)("rect",{height:C,width:800,className:t,x:0,y:50-C/2}),Object(r.createElement)("rect",{height:100,width:C,className:t,x:S,y:0}))},L="M".concat(S,",").concat((100-C)/2,"L").concat(S,",").concat((100+C)/2),T=function(e){var t=e.className;return Object(r.createElement)("path",{className:t,d:L})},I=function(){var e=Object(r.useContext)(v).state,t=w({width:800,height:100,isGreen:g(e.time,40)});return n.a.createElement("svg",{className:t.svg},n.a.createElement(P,{className:t.road}),n.a.createElement(T,{className:t.light}),e.cars.map(function(e,a){return n.a.createElement(M,{key:a,x:O(e),className:t.car})}))},z=a(32),D=a.n(z),R=(a(62),Object(j.a)({svg:{"& text":{fontFamily:"Puritan, san-serif",fontSize:"13px"}},math:{fontSize:"12px"},trajectory:{fill:"none",stroke:x.a.lightBlue.A700,strokeWidth:"2px"},hidden:{fill:"white",opacity:0},marker:{fill:x.a.lightBlue.A700}}));function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var B=10,F=40,Y={width:700+F+44,height:400+B+40},G=Object(s.a)().domain([0,180]).range([400,0]),J=Object(s.a)().domain([0,100]).range([0,700]),K=Object(u.a)(function(e,t){return"translate(".concat(e,",").concat(t,")")}),_=(Array.apply(null,{length:50}).map(function(e,t){return t}),n.a.createElement("mask",{id:"myMask"},n.a.createElement("rect",{width:700,height:400,fill:"white"}))),H=function(e){var t=e.mathClass;return n.a.createElement("g",{transform:"translate(0,".concat(G(135),")")},n.a.createElement("path",{d:"M0,0L".concat(700,",0"),fill:"none",stroke:"black"}),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(".concat(703,",-10)")},n.a.createElement("span",{className:t},n.a.createElement(D.a,{math:"t \\; \\text{(sec)}"}))))},U=function(e){var t=e.mathClass;return n.a.createElement("g",null,n.a.createElement("path",{d:"M0,0L0,".concat(400),fill:"none",stroke:"black"}),n.a.createElement("foreignObject",{width:"90",height:"75",transform:"translate(5,-10)"},n.a.createElement("span",{className:t},n.a.createElement(D.a,{math:"x \\; \\text{(m)}"}))))},X=function(e){var t=e.history,a=e.className;return Object(r.createElement)("path",{className:a,d:"M"+t.map(function(e){return e.map(function(e){var t=W(e,2),a=t[0],r=t[1];return[J(a),G(r)]}).join("L")}).join("M")})},q=function(){var e=R({}),t=Object(r.useContext)(v),a=t.state;t.dispatch;return n.a.createElement("svg",{className:e.svg,style:Y},n.a.createElement("defs",null,n.a.createElement("marker",{id:"arrow",viewBox:"0 0 15 15",refY:"5",refX:"8",markerWidth:"5",markerHeight:"5",orient:"auto-start-reverse",className:e.marker},n.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),n.a.createElement("g",{transform:K(F,B)},n.a.createElement(H,{mathClass:e.math}),n.a.createElement(U,{mathClass:e.math}),_,n.a.createElement("g",{style:{mask:"url(#myMask)"}},n.a.createElement(X,{history:a.history,className:e.trajectory}))))},Q=a(257),V=Object(Q.a)({"@global":{body:{margin:"0 !important",padding:"0 !important",fontFamily:" 'Puritan', sans-serif"}},main:{maxWidth:"900px",color:x.a.grey[800],margin:"0 auto",boxSizing:"border-box",display:"flex",flexDirection:"column"},red:{fill:x.a.red.A400},paper:{maxWidth:"500px",width:300,margin:"auto",display:"flex",padding:"24px 36px",flexDirection:"column"},button:{alignSelf:"center"},visContainer:{margin:"0 auto"},sliderContainer:{width:"300px",padding:"20px",boxSizing:"border-box"}});function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $={},ee=function(){var e=Object(r.useContext)(v),t=e.state,a=e.dispatch,c=t.play,s=V($);return function(e,t){var a=Object(r.useRef)(0);a.current=e,Object(r.useLayoutEffect)(function(){if(t){var e=0,r=Object(l.a)(function(t){var r=(t-e)/1e3;e=t,a.current&&a.current(r)});return function(){return r.stop()}}},[t])}(function(e){e/=.35,a({type:"TICK",payload:Math.min(e,300)})},c),t.time>100&&a({type:"RESET"}),function(e,t,a){var n=Object(r.useRef)(0);n.current=e,Object(r.useLayoutEffect)(function(){if(a){var e=setInterval(function(){n.current&&n.current()},1e3*t);return function(){return clearInterval(e)}}},[t,a])}(function(){return a({type:"ADD"})},1/f*.35,c),n.a.createElement("div",{className:s.main},n.a.createElement("div",{className:s.visContainer},n.a.createElement(I,null)),n.a.createElement(o.a,{className:s.paper,elevation:2},n.a.createElement(i.a,{className:s.button,variant:"contained",color:"secondary",onClick:function(){return a({type:"SET_PLAY",payload:!c})}},c?"PAUSE":"PLAY"),n.a.createElement(i.a,{className:s.button,style:{marginTop:"10px"},variant:"contained",color:"secondary",onClick:function(){a({type:"RESET"})}},"Reset")),n.a.createElement(q,null))},te=a(260),ae=a(46),re=a(44),ne=a.n(re),ce=a(45),ie=a.n(ce),oe=document.getElementById("root");if(!oe)throw Error("no root container");var le=Object(ae.a)({palette:{primary:{main:ne.a[500]},secondary:{main:ie.a[500]}}});Object(c.render)(n.a.createElement(te.a,{theme:le},n.a.createElement(function(){var e=Z(Object(r.useReducer)(E,b),2),t=e[0],a=e[1];return n.a.createElement(v.Provider,{value:{state:t,dispatch:a}},n.a.createElement(ee,null))},null)),oe)}},[[138,1,2]]]);